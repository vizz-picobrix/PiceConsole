import"../chunks/Bzak7iHL.js";import"../chunks/_cTFHsCP.js";import{I as L,J as Ae,a3 as Ne,e as U,l as Ee,a5 as De,a6 as Ie,a7 as ve,a8 as ue,a9 as F,O as B,al as Se,ap as Me,ab as X,ae as Te,ac as Re,at as ce,V as ke,aa as Ce,aj as te,aK as de,aL as Le,af as pe,ag as Ue,aM as He,aN as Q,aO as _e,aP as Oe,aQ as Pe,an as Ve,aR as ze,as as Ge,aS as Be,k as Je,aT as Ke,aU as Ye,aV as je,p as re,aD as qe,G as J,j as Z,aW as Fe,aA as j,a as S,b as se,f as T,c as f,r as c,s as h,n as Qe,t as V,aJ as We}from"../chunks/BEwaqqRn.js";import{A as Xe,s as Ze}from"../chunks/CJPYJVYH.js";import{s as M}from"../chunks/DLwrZ92H.js";import{i as ne}from"../chunks/CcmhthiT.js";import{i as K,a as ie,s as oe}from"../chunks/Du9JZrCH.js";import{s as ea}from"../chunks/DNcnrfsj.js";import{a as ge,c as aa}from"../chunks/-OM9cyHE.js";function ta(a,t){return t}function ra(a,t,e){for(var i=a.items,r=[],l=t.length,v=0;v<l;v++)ze(t[v].e,r,!0);var u=l>0&&r.length===0&&e!==null;if(u){var p=e.parentNode;Ge(p),p.append(e),i.clear(),k(a,t[0].prev,t[l-1].next)}Be(r,()=>{for(var b=0;b<l;b++){var m=t[b];u||(i.delete(m.k),k(a,m.prev,m.next)),_e(m.e,!u)}})}function sa(a,t,e,i,r,l=null){var v=a,u={flags:t,items:new Map,first:null};L&&Ae();var p=null,b=!1,m=new Map,A=Ee(()=>{var n=e();return ke(n)?n:n==null?[]:ce(n)}),s,_;function o(){na(_,s,u,m,v,r,t,i,e),l!==null&&(s.length===0?p?pe(p):p=X(()=>l(v)):p!==null&&Ue(p,()=>{p=null}))}Ne(()=>{_??(_=Je),s=U(A);var n=s.length;if(b&&n===0)return;b=n===0;let w=!1;if(L){var D=De(v)===Ie;D!==(n===0)&&(v=ve(),ue(v),F(!1),w=!0)}if(L){for(var N=null,d,g=0;g<n;g++){if(B.nodeType===Se&&B.data===Me){v=B,w=!0,F(!1);break}var x=s[g],y=i(x,g);d=ee(B,u,N,null,x,y,g,r,t,e),u.items.set(y,d),N=d}n>0&&ue(ve())}if(L)n===0&&l&&(p=X(()=>l(v)));else if(Te()){var C=new Set,I=Re;for(g=0;g<n;g+=1){x=s[g],y=i(x,g);var $=u.items.get(y)??m.get(y);$?he($,x,g):(d=ee(null,u,null,null,x,y,g,r,t,e,!0),m.set(y,d)),C.add(y)}for(const[H,E]of u.items)C.has(H)||I.skipped_effects.add(E.e);I.add_callback(o)}else o();w&&F(!0),U(A)}),L&&(v=B)}function na(a,t,e,i,r,l,v,u,p){var b=t.length,m=e.items,A=e.first,s=A,_,o=null,n=[],w=[],D,N,d,g;for(g=0;g<b;g+=1){if(D=t[g],N=u(D,g),d=m.get(N),d===void 0){var x=i.get(N);if(x!==void 0){i.delete(N),m.set(N,x);var y=o?o.next:s;k(e,o,x),k(e,x,y),W(x,y,r),o=x}else{var C=s?s.e.nodes_start:r;o=ee(C,e,o,o===null?e.first:o.next,D,N,g,l,v,p)}m.set(N,o),n=[],w=[],s=o.next;continue}if(he(d,D,g),(d.e.f&Q)!==0&&pe(d.e),d!==s){if(_!==void 0&&_.has(d)){if(n.length<w.length){var I=w[0],$;o=I.prev;var H=n[0],E=n[n.length-1];for($=0;$<n.length;$+=1)W(n[$],I,r);for($=0;$<w.length;$+=1)_.delete(w[$]);k(e,H.prev,E.next),k(e,o,H),k(e,E,I),s=I,o=E,g-=1,n=[],w=[]}else _.delete(d),W(d,s,r),k(e,d.prev,d.next),k(e,d,o===null?e.first:o.next),k(e,o,d),o=d;continue}for(n=[],w=[];s!==null&&s.k!==N;)(s.e.f&Q)===0&&(_??(_=new Set)).add(s),w.push(s),s=s.next;if(s===null)continue;d=s}n.push(d),o=d,s=d.next}if(s!==null||_!==void 0){for(var R=_===void 0?[]:ce(_);s!==null;)(s.e.f&Q)===0&&R.push(s),s=s.next;var O=R.length;if(O>0){var z=null;ra(e,R,z)}}a.first=e.first&&e.first.e,a.last=o&&o.e;for(var G of i.values())_e(G.e);i.clear()}function he(a,t,e,i){Le(a.v,t),a.i=e}function ee(a,t,e,i,r,l,v,u,p,b,m){var A=(p&Oe)!==0,s=(p&Pe)===0,_=A?s?te(r,!1,!1):de(r):r,o=(p&He)===0?v:de(v),n={i:o,v:_,k:l,a:null,e:null,prev:e,next:i};try{if(a===null){var w=document.createDocumentFragment();w.append(a=Ce())}return n.e=X(()=>u(a,_,o,b),L),n.e.prev=e&&e.e,n.e.next=i&&i.e,e===null?m||(t.first=n):(e.next=n,e.e.next=n.e),i!==null&&(i.prev=n,i.e.prev=n.e),n}finally{}}function W(a,t,e){for(var i=a.next?a.next.e.nodes_start:e,r=t?t.e.nodes_start:e,l=a.e.nodes_start;l!==null&&l!==i;){var v=Ve(l);r.before(l),l=v}}function k(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function ia(a,t,e){var i=a==null?"":""+a;return i===""?null:i}function ae(a,t,e,i,r,l){var v=a.__className;if(L||v!==e||v===void 0){var u=ia(e);(!L||u!==a.getAttribute("class"))&&(u==null?a.removeAttribute("class"):a.className=u),a.__className=e}return l}const oa=Symbol("is custom element"),la=Symbol("is html");function va(a,t,e,i){var r=ua(a);L&&(r[t]=a.getAttribute(t),a.nodeName==="LINK")||r[t]!==(r[t]=e)&&(e==null?a.removeAttribute(t):typeof e!="string"&&da(a).includes(t)?a[t]=e:a.setAttribute(t,e))}function ua(a){return a.__attributes??(a.__attributes={[oa]:a.nodeName.includes("-"),[la]:a.namespaceURI===Ke})}var fe=new Map;function da(a){var t=fe.get(a.nodeName);if(t)return t;fe.set(a.nodeName,t=[]);for(var e,i=a,r=Element.prototype;r!==i;){e=je(i);for(var l in e)e[l].set&&t.push(l);i=Ye(i)}return t}const fa=()=>{const a=ea;return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},updated:a.updated}},ca={subscribe(a){return fa().page.subscribe(a)}};var pa=T('<div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50"><div class="py-1"><div class="px-4 py-2 text-sm text-gray-900 border-b border-gray-200"><p class="font-medium"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <button class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ë¡œê·¸ì•„ì›ƒ</button></div></div>'),_a=T('<div class="relative"><button class="flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-md p-2"><div class="w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center"><span class="text-white text-sm font-medium"> </span></div> <span class="hidden md:block"> </span> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>');function ga(a,t){re(t,!1);const[e,i]=oe(),r=()=>ie(ge,"$authState",e);let l=te(!1);function v(){Z(l,!U(l))}function u(){aa()}ne();var p=qe();J("click",Fe,()=>Z(l,!1));var b=j(p);{var m=A=>{var s=_a(),_=f(s),o=f(_),n=f(o),w=f(n,!0);c(n),c(o);var D=h(o,2),N=f(D,!0);c(D),Qe(2),c(_);var d=h(_,2);{var g=x=>{var y=pa(),C=f(y),I=f(C),$=f(I),H=f($,!0);c($);var E=h($,2),R=f(E);c(E),c(I);var O=h(I,2);c(C),c(y),V(z=>{M(H,r().user.userDetails),M(R,`ì—­í• : ${z??""}`)},[()=>r().user.userRoles.join(", ")]),J("click",O,u),S(x,y)};K(d,x=>{U(l)&&x(g)})}c(s),V(x=>{M(w,x),M(N,r().user.userDetails)},[()=>r().user.userDetails.charAt(0).toUpperCase()]),J("click",_,v),S(A,s)};K(b,A=>{r().isAuthenticated&&r().user&&A(m)})}S(a,p),se(),i()}var ha=T("<a> </a>"),ma=T('<header class="bg-white shadow-sm border-b"><nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a href="/" class="flex-shrink-0 font-bold text-xl text-blue-600">PiceConsole</a></div> <div class="flex items-center space-x-8"><!> <!></div></div></nav></header>');function xa(a,t){re(t,!1);const[e,i]=oe(),r=()=>ie(ca,"$page",e),l=[{name:"Dashboard",href:"/"},{name:"Game Management",href:"/admin/games"},{name:"User Management",href:"/admin/users"},{name:"Analytics",href:"/admin/analytics"}];ne();var v=ma(),u=f(v),p=f(u),b=h(f(p),2),m=f(b);sa(m,1,()=>l,ta,(s,_)=>{var o=ha(),n=f(o,!0);c(o),V(()=>{va(o,"href",U(_).href),ae(o,1,`text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors
							${r().url.pathname===U(_).href?"text-blue-600 bg-blue-50":""}`),M(n,U(_).name)}),S(s,o)});var A=h(m,2);ga(A,{}),c(b),c(p),c(u),c(v),S(a,v),se(),i()}var ba=T('<span class="text-yellow-400">No roles assigned</span>'),wa=T("<div><strong>User ID:</strong> </div> <div><strong>User Details:</strong> </div> <div><strong>Identity Provider:</strong> </div> <div><strong>User Roles:</strong> <!></div>",1),ya=T('<div class="text-red-400">No user data</div>'),$a=T('<div class="fixed bottom-4 right-4 bg-black bg-opacity-80 text-white p-4 rounded-lg text-sm max-w-md z-50"><div class="flex justify-between items-center mb-2"><h3 class="font-bold">Auth Debug Info</h3> <button class="text-red-400 hover:text-red-300">âœ•</button></div> <div class="space-y-2 text-xs"><div><strong>Is Authenticated:</strong> <span> </span></div> <div><strong>Is Loading:</strong> <span> </span></div> <!> <div class="pt-2 border-t border-gray-600"><strong>Current URL:</strong> </div></div></div>'),Aa=T('<!> <button class="fixed bottom-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-full text-xs z-50" title="Toggle Auth Debug">ðŸ”§</button>',1);function Na(a,t){re(t,!1);const[e,i]=oe(),r=()=>ie(ge,"$authState",e);let l=te(!1);function v(){Z(l,!U(l))}ne();var u=Aa(),p=j(u);{var b=A=>{var s=$a(),_=f(s),o=h(f(_),2);c(_);var n=h(_,2),w=f(n),D=h(f(w),2),N=f(D,!0);c(D),c(w);var d=h(w,2),g=h(f(d),2),x=f(g,!0);c(g),c(d);var y=h(d,2);{var C=E=>{var R=wa(),O=j(R),z=h(f(O));c(O);var G=h(O,2),me=h(f(G));c(G);var q=h(G,2),xe=h(f(q));c(q);var le=h(q,2),be=h(f(le),2);{var we=P=>{var Y=We();V($e=>M(Y,$e),[()=>r().user.userRoles.join(", ")]),S(P,Y)},ye=P=>{var Y=ba();S(P,Y)};K(be,P=>{r().user.userRoles&&r().user.userRoles.length>0?P(we):P(ye,!1)})}c(le),V(()=>{M(z,` ${r().user.userId||"N/A"}`),M(me,` ${r().user.userDetails||"N/A"}`),M(xe,` ${r().user.identityProvider||"N/A"}`)}),S(E,R)},I=E=>{var R=ya();S(E,R)};K(y,E=>{r().user?E(C):E(I,!1)})}var $=h(y,2),H=h(f($));H.nodeValue=` ${(typeof window<"u"?window.location.href:"SSR")??""}`,c($),c(n),c(s),V(()=>{ae(D,1,r().isAuthenticated?"text-green-400":"text-red-400"),M(N,r().isAuthenticated),ae(g,1,r().isLoading?"text-yellow-400":"text-gray-400"),M(x,r().isLoading)}),J("click",o,v),S(A,s)};K(p,A=>{U(l)&&A(b)})}var m=h(p,2);J("click",m,v),S(a,u),se(),i()}var Ea=T('<div class="min-h-screen bg-gray-50"><!> <main class="container mx-auto px-4 py-8"><!></main></div>'),Da=T("<!> <!>",1);function Ha(a,t){var e=Da(),i=j(e);Xe(i,{children:(l,v)=>{var u=Ea(),p=f(u);xa(p,{});var b=h(p,2),m=f(b);Ze(m,t,"default",{}),c(b),c(u),S(l,u)},$$slots:{default:!0}});var r=h(i,2);Na(r,{}),S(a,e)}export{Ha as component};
