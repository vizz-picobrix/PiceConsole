import"../chunks/Bzak7iHL.js";import"../chunks/_cTFHsCP.js";import{I as U,J as Ae,a3 as Ne,e as T,l as De,a5 as Ee,a6 as Ie,a7 as ve,a8 as de,a9 as q,O as B,al as Se,ap as Me,ab as X,ae as Te,ac as ke,at as ce,V as Re,aa as Ce,aj as te,aK as ue,aL as Le,af as pe,ag as Ue,aM as He,aN as F,aO as ge,aP as Oe,aQ as Pe,an as Ve,aR as ze,as as Ge,aS as Be,k as Je,aT as Ke,aU as We,aV as Ye,p as re,aD as je,G as J,j as Z,aW as qe,aA as Y,a as S,b as se,f as k,c as f,r as c,s as h,n as Fe,t as V,aJ as Qe}from"../chunks/BEwaqqRn.js";import{A as Xe,s as Ze}from"../chunks/CyeyfTi4.js";import{s as M}from"../chunks/DLwrZ92H.js";import{i as ne}from"../chunks/CcmhthiT.js";import{i as K,a as ie,s as oe}from"../chunks/Du9JZrCH.js";import{s as ea}from"../chunks/BaOzmWX5.js";import{a as _e,c as aa}from"../chunks/cABREqu9.js";function ta(a,t){return t}function ra(a,t,e){for(var i=a.items,r=[],o=t.length,v=0;v<o;v++)ze(t[v].e,r,!0);var d=o>0&&r.length===0&&e!==null;if(d){var p=e.parentNode;Ge(p),p.append(e),i.clear(),C(a,t[0].prev,t[o-1].next)}Be(r,()=>{for(var b=0;b<o;b++){var m=t[b];d||(i.delete(m.k),C(a,m.prev,m.next)),ge(m.e,!d)}})}function sa(a,t,e,i,r,o=null){var v=a,d={flags:t,items:new Map,first:null};U&&Ae();var p=null,b=!1,m=new Map,A=De(()=>{var n=e();return Re(n)?n:n==null?[]:ce(n)}),s,g;function l(){na(g,s,d,m,v,r,t,i,e),o!==null&&(s.length===0?p?pe(p):p=X(()=>o(v)):p!==null&&Ue(p,()=>{p=null}))}Ne(()=>{g??(g=Je),s=T(A);var n=s.length;if(b&&n===0)return;b=n===0;let w=!1;if(U){var E=Ee(v)===Ie;E!==(n===0)&&(v=ve(),de(v),q(!1),w=!0)}if(U){for(var N=null,u,_=0;_<n;_++){if(B.nodeType===Se&&B.data===Me){v=B,w=!0,q(!1);break}var x=s[_],y=i(x,_);u=ee(B,d,N,null,x,y,_,r,t,e),d.items.set(y,u),N=u}n>0&&de(ve())}if(U)n===0&&o&&(p=X(()=>o(v)));else if(Te()){var L=new Set,I=ke;for(_=0;_<n;_+=1){x=s[_],y=i(x,_);var $=d.items.get(y)??m.get(y);$?he($,x,_):(u=ee(null,d,null,null,x,y,_,r,t,e,!0),m.set(y,u)),L.add(y)}for(const[H,D]of d.items)L.has(H)||I.skipped_effects.add(D.e);I.add_callback(l)}else l();w&&q(!0),T(A)}),U&&(v=B)}function na(a,t,e,i,r,o,v,d,p){var b=t.length,m=e.items,A=e.first,s=A,g,l=null,n=[],w=[],E,N,u,_;for(_=0;_<b;_+=1){if(E=t[_],N=d(E,_),u=m.get(N),u===void 0){var x=i.get(N);if(x!==void 0){i.delete(N),m.set(N,x);var y=l?l.next:s;C(e,l,x),C(e,x,y),Q(x,y,r),l=x}else{var L=s?s.e.nodes_start:r;l=ee(L,e,l,l===null?e.first:l.next,E,N,_,o,v,p)}m.set(N,l),n=[],w=[],s=l.next;continue}if(he(u,E,_),(u.e.f&F)!==0&&pe(u.e),u!==s){if(g!==void 0&&g.has(u)){if(n.length<w.length){var I=w[0],$;l=I.prev;var H=n[0],D=n[n.length-1];for($=0;$<n.length;$+=1)Q(n[$],I,r);for($=0;$<w.length;$+=1)g.delete(w[$]);C(e,H.prev,D.next),C(e,l,H),C(e,D,I),s=I,l=D,_-=1,n=[],w=[]}else g.delete(u),Q(u,s,r),C(e,u.prev,u.next),C(e,u,l===null?e.first:l.next),C(e,l,u),l=u;continue}for(n=[],w=[];s!==null&&s.k!==N;)(s.e.f&F)===0&&(g??(g=new Set)).add(s),w.push(s),s=s.next;if(s===null)continue;u=s}n.push(u),l=u,s=u.next}if(s!==null||g!==void 0){for(var R=g===void 0?[]:ce(g);s!==null;)(s.e.f&F)===0&&R.push(s),s=s.next;var O=R.length;if(O>0){var z=null;ra(e,R,z)}}a.first=e.first&&e.first.e,a.last=l&&l.e;for(var G of i.values())ge(G.e);i.clear()}function he(a,t,e,i){Le(a.v,t),a.i=e}function ee(a,t,e,i,r,o,v,d,p,b,m){var A=(p&Oe)!==0,s=(p&Pe)===0,g=A?s?te(r,!1,!1):ue(r):r,l=(p&He)===0?v:ue(v),n={i:l,v:g,k:o,a:null,e:null,prev:e,next:i};try{if(a===null){var w=document.createDocumentFragment();w.append(a=Ce())}return n.e=X(()=>d(a,g,l,b),U),n.e.prev=e&&e.e,n.e.next=i&&i.e,e===null?m||(t.first=n):(e.next=n,e.e.next=n.e),i!==null&&(i.prev=n,i.e.prev=n.e),n}finally{}}function Q(a,t,e){for(var i=a.next?a.next.e.nodes_start:e,r=t?t.e.nodes_start:e,o=a.e.nodes_start;o!==null&&o!==i;){var v=Ve(o);r.before(o),o=v}}function C(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function ia(a,t,e){var i=a==null?"":""+a;return i===""?null:i}function ae(a,t,e,i,r,o){var v=a.__className;if(U||v!==e||v===void 0){var d=ia(e);(!U||d!==a.getAttribute("class"))&&(d==null?a.removeAttribute("class"):a.className=d),a.__className=e}return o}const oa=Symbol("is custom element"),la=Symbol("is html");function va(a,t,e,i){var r=da(a);U&&(r[t]=a.getAttribute(t),a.nodeName==="LINK")||r[t]!==(r[t]=e)&&(e==null?a.removeAttribute(t):typeof e!="string"&&ua(a).includes(t)?a[t]=e:a.setAttribute(t,e))}function da(a){return a.__attributes??(a.__attributes={[oa]:a.nodeName.includes("-"),[la]:a.namespaceURI===Ke})}var fe=new Map;function ua(a){var t=fe.get(a.nodeName);if(t)return t;fe.set(a.nodeName,t=[]);for(var e,i=a,r=Element.prototype;r!==i;){e=Ye(i);for(var o in e)e[o].set&&t.push(o);i=We(i)}return t}const fa=()=>{const a=ea;return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},updated:a.updated}},ca={subscribe(a){return fa().page.subscribe(a)}};var pa=k('<div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5" style="z-index: 9999;"><div class="py-1"><div class="px-4 py-2 text-sm text-gray-900 border-b border-gray-200"><p class="font-medium"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <button class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">ë¡œê·¸ì•„ì›ƒ</button></div></div>'),ga=k('<div class="relative"><button class="flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-md p-2"><div class="w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center"><span class="text-white text-sm font-medium"> </span></div> <span class="hidden md:block"> </span> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>');function _a(a,t){re(t,!1);const[e,i]=oe(),r=()=>ie(_e,"$authState",e);let o=te(!1);function v(){console.log("Dropdown toggle clicked, current state:",T(o)),Z(o,!T(o)),console.log("Dropdown new state:",T(o))}function d(){aa()}ne();var p=je();J("click",qe,A=>{console.log("Window clicked, closing dropdown"),Z(o,!1)});var b=Y(p);{var m=A=>{var s=ga(),g=f(s),l=f(g),n=f(l),w=f(n,!0);c(n),c(l);var E=h(l,2),N=f(E,!0);c(E),Fe(2),c(g);var u=h(g,2);{var _=x=>{var y=pa(),L=f(y),I=f(L),$=f(I),H=f($,!0);c($);var D=h($,2),R=f(D);c(D),c(I);var O=h(I,2);c(L),c(y),V(z=>{M(H,r().user.userDetails),M(R,`ì—­í• : ${z??""}`)},[()=>r().user.userRoles.join(", ")]),J("click",O,d),S(x,y)};K(u,x=>{T(o)&&x(_)})}c(s),V(x=>{M(w,x),M(N,r().user.userDetails)},[()=>r().user.userDetails.charAt(0).toUpperCase()]),J("click",g,v),S(A,s)};K(b,A=>{r().isAuthenticated&&r().user&&A(m)})}S(a,p),se(),i()}var ha=k("<a> </a>"),ma=k('<header class="bg-white shadow-sm border-b"><nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a href="/" class="flex-shrink-0 font-bold text-xl text-blue-600">PiceConsole</a></div> <div class="flex items-center space-x-8"><!> <!></div></div></nav></header>');function xa(a,t){re(t,!1);const[e,i]=oe(),r=()=>ie(ca,"$page",e),o=[{name:"Dashboard",href:"/"},{name:"Game Management",href:"/admin/games"},{name:"User Management",href:"/admin/users"},{name:"Analytics",href:"/admin/analytics"}];ne();var v=ma(),d=f(v),p=f(d),b=h(f(p),2),m=f(b);sa(m,1,()=>o,ta,(s,g)=>{var l=ha(),n=f(l,!0);c(l),V(()=>{va(l,"href",T(g).href),ae(l,1,`text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors
							${r().url.pathname===T(g).href?"text-blue-600 bg-blue-50":""}`),M(n,T(g).name)}),S(s,l)});var A=h(m,2);_a(A,{}),c(b),c(p),c(d),c(v),S(a,v),se(),i()}var ba=k('<span class="text-yellow-400">No roles assigned</span>'),wa=k("<div><strong>User ID:</strong> </div> <div><strong>User Details:</strong> </div> <div><strong>Identity Provider:</strong> </div> <div><strong>User Roles:</strong> <!></div>",1),ya=k('<div class="text-red-400">No user data</div>'),$a=k('<div class="fixed bottom-4 right-4 bg-black bg-opacity-80 text-white p-4 rounded-lg text-sm max-w-md z-50"><div class="flex justify-between items-center mb-2"><h3 class="font-bold">Auth Debug Info</h3> <button class="text-red-400 hover:text-red-300">âœ•</button></div> <div class="space-y-2 text-xs"><div><strong>Is Authenticated:</strong> <span> </span></div> <div><strong>Is Loading:</strong> <span> </span></div> <!> <div class="pt-2 border-t border-gray-600"><strong>Current URL:</strong> </div></div></div>'),Aa=k('<!> <button class="fixed bottom-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-full text-xs shadow-lg" style="z-index: 9999;" title="Toggle Auth Debug">ðŸ”§</button>',1);function Na(a,t){re(t,!1);const[e,i]=oe(),r=()=>ie(_e,"$authState",e);let o=te(!1);function v(){Z(o,!T(o))}ne();var d=Aa(),p=Y(d);{var b=A=>{var s=$a(),g=f(s),l=h(f(g),2);c(g);var n=h(g,2),w=f(n),E=h(f(w),2),N=f(E,!0);c(E),c(w);var u=h(w,2),_=h(f(u),2),x=f(_,!0);c(_),c(u);var y=h(u,2);{var L=D=>{var R=wa(),O=Y(R),z=h(f(O));c(O);var G=h(O,2),me=h(f(G));c(G);var j=h(G,2),xe=h(f(j));c(j);var le=h(j,2),be=h(f(le),2);{var we=P=>{var W=Qe();V($e=>M(W,$e),[()=>r().user.userRoles.join(", ")]),S(P,W)},ye=P=>{var W=ba();S(P,W)};K(be,P=>{r().user.userRoles&&r().user.userRoles.length>0?P(we):P(ye,!1)})}c(le),V(()=>{M(z,` ${r().user.userId||"N/A"}`),M(me,` ${r().user.userDetails||"N/A"}`),M(xe,` ${r().user.identityProvider||"N/A"}`)}),S(D,R)},I=D=>{var R=ya();S(D,R)};K(y,D=>{r().user?D(L):D(I,!1)})}var $=h(y,2),H=h(f($));H.nodeValue=` ${(typeof window<"u"?window.location.href:"SSR")??""}`,c($),c(n),c(s),V(()=>{ae(E,1,r().isAuthenticated?"text-green-400":"text-red-400"),M(N,r().isAuthenticated),ae(_,1,r().isLoading?"text-yellow-400":"text-gray-400"),M(x,r().isLoading)}),J("click",l,v),S(A,s)};K(p,A=>{T(o)&&A(b)})}var m=h(p,2);J("click",m,v),S(a,d),se(),i()}var Da=k('<div class="min-h-screen bg-gray-50"><!> <main class="container mx-auto px-4 py-8"><!></main></div>'),Ea=k("<!> <!>",1);function Ha(a,t){var e=Ea(),i=Y(e);Xe(i,{children:(o,v)=>{var d=Da(),p=f(d);xa(p,{});var b=h(p,2),m=f(b);Ze(m,t,"default",{}),c(b),c(d),S(o,d)},$$slots:{default:!0}});var r=h(i,2);Na(r,{}),S(a,e)}export{Ha as component};
